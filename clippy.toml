allow-unwrap-in-tests = true
allow-expect-in-tests = true
allow-print-in-tests = true

await-holding-invalid-types = [
    { path = "bitwarden_crypto::KeyStoreContext", reason = """
Contains a RwLock guard that will limit concurrency and even deadlock when held across await points.
Instead, prefer to hold a reference to bitwarden_core::KeyStore and use its encrypt/decrypt methods directly.
If you require access to KeyStoreContext, create short-lived KeyStoreContext instances as needed.
""" },
]

disallowed-macros = [
  { path = "log::trace", reason = "Use tracing for logging needs", replacement = "tracing::trace" },
  { path = "log::debug", reason = "Use tracing for logging needs", replacement = "tracing::debug" },
  { path = "log::info", reason = "Use tracing for logging needs", replacement = "tracing::info" },
  { path = "log::warn", reason = "Use tracing for logging needs", replacement = "tracing::warn" },
  { path = "log::error", reason = "Use tracing for logging needs", replacement = "tracing::error" },
]
